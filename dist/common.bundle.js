!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var o in r)("object"==typeof exports?exports:e)[o]=r[o]}}(global,function(){return function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);var o=class{constructor(e,...t){if(this.gameType=e,t.length<2)throw Error("Number of players must be 2 or more");this.players=[].concat(t),this.round=0,this.possibleActions={},e.possibleActions.forEach(e=>{this.possibleActions[e.name]=e})}playRound(e){this.round++;let t=null;for(let r of this.players){let{playerAction:o,othersActions:n}=e.getActions(r);if(o.defeatsAll(n)){t=r;break}}return t}};var n=class extends Map{getActions(e){let t,r=[];for(let[o,n]of this)o===e?t=n:r.push(n);return{playerAction:t,othersActions:r}}};var s=class{constructor(e,t){this.name=e,this.defeatList=[].concat(t)}defeats(e){return this.defeatList.includes(e.name)}defeatsAll(e){return(e=[].concat(e)).filter(e=>this.defeats(e)).length===e.length}isDefeatedBy(e){return e.defeats(this)}toString(){return this.name}};const i={possibleActions:[new s("rock","scissors"),new s("paper","rock"),new s("scissors","paper")],fullName:"Rock Paper Scissors",name:"RPS"},c={possibleActions:[new s("rock",["scissors","lizard"]),new s("paper",["rock","spock"]),new s("scissors",["paper","lizard"]),new s("spock",["scissors","rock"]),new s("lizard",["spock","paper"])],fullName:"Rock Paper Scissors Spock Lizard",name:"RPSSL"};var a={RPS:i,RPSSL:c};Object.freeze(i),Object.freeze(c);var l=class{constructor(e){this.name=e}toString(){return this.name}};t.default={Game:o,Round:n,GameType:a,Action:s,Player:l}}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcm91bmQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FjdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZVR5cGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsYXllci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwiYSIsImkiLCJnbG9iYWwiLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJnYW1lIiwiW29iamVjdCBPYmplY3RdIiwiZ2FtZVR5cGUiLCJwbGF5ZXJzIiwidGhpcyIsImxlbmd0aCIsIkVycm9yIiwiY29uY2F0Iiwicm91bmQiLCJwb3NzaWJsZUFjdGlvbnMiLCJmb3JFYWNoIiwiYWN0aW9uIiwid2lubmVyIiwicGxheWVyQWN0aW9uIiwib3RoZXJzQWN0aW9ucyIsImdldEFjdGlvbnMiLCJkZWZlYXRzQWxsIiwiTWFwIiwicGxheWVyIiwicHVzaCIsImFjdGlvbk5hbWUiLCJkZWZlYXRzIiwiZGVmZWF0TGlzdCIsIm90aGVyQWN0aW9uIiwiaW5jbHVkZXMiLCJvdGhlckFjdGlvbnMiLCJmaWx0ZXIiLCJvdGhlciIsIlJQUyIsImZ1bGxOYW1lIiwiUlBTU0wiLCJmcmVlemUiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiR2FtZSIsIlJvdW5kIiwiR2FtZVR5cGUiLCJBY3Rpb24iLCJQbGF5ZXIiXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEVBQUFDLEdBQ0Esb0JBQUFDLFNBQUEsaUJBQUFDLE9BQ0FBLE9BQUFELFFBQUFELFNBQ0Esc0JBQUFHLGVBQUFDLElBQ0FELFVBQUFILE9BQ0EsQ0FDQSxJQUFBSyxFQUFBTCxJQUNBLFFBQUFNLEtBQUFELEdBQUEsaUJBQUFKLGdCQUFBRixHQUFBTyxHQUFBRCxFQUFBQyxJQVBBLENBU0NDLE9BQUEsV0FDRCxtQkNUQSxJQUFBQyxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBVCxRQUdBLElBQUFDLEVBQUFNLEVBQUFFLElBQ0FKLEVBQUFJLEVBQ0FDLEdBQUEsRUFDQVYsWUFVQSxPQU5BVyxFQUFBRixHQUFBRyxLQUFBWCxFQUFBRCxRQUFBQyxJQUFBRCxRQUFBUSxHQUdBUCxFQUFBUyxHQUFBLEVBR0FULEVBQUFELFFBMERBLE9BckRBUSxFQUFBSyxFQUFBRixFQUdBSCxFQUFBTSxFQUFBUCxFQUdBQyxFQUFBTyxFQUFBLFNBQUFmLEVBQUFnQixFQUFBQyxHQUNBVCxFQUFBVSxFQUFBbEIsRUFBQWdCLElBQ0FHLE9BQUFDLGVBQUFwQixFQUFBZ0IsR0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNULEVBQUFlLEVBQUEsU0FBQXZCLEdBQ0Esb0JBQUF3QixlQUFBQyxhQUNBTixPQUFBQyxlQUFBcEIsRUFBQXdCLE9BQUFDLGFBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBcEIsRUFBQSxjQUFpRDBCLE9BQUEsS0FRakRsQixFQUFBbUIsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQWxCLEVB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bnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIHtcblx0XHR2YXIgYSA9IGZhY3RvcnkoKTtcblx0XHRmb3IodmFyIGkgaW4gYSkgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyA/IGV4cG9ydHMgOiByb290KVtpXSA9IGFbaV07XG5cdH1cbn0pKGdsb2JhbCwgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsIi8qKlxuICogR2FtZSBtYWRlIG9mIG9uZSBvcmUgbW9yZSBwbGF5ZXJzXG4gKi9cbmNsYXNzIEdhbWUge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7IUdhbWVUeXBlfSBnYW1lVHlwZSAtIFJvY2sgUGFwZXIgU2Npc3NvcnMgT1IgUm9jayBQYXBlciBTY2lzc29ycyBTcG9jayBMaXphcmQgZ2FtZVxuICAgICAqIEBwYXJhbSB7Li4uUGxheWVyfSBwbGF5ZXJzIC0gTGlzdCBvZiBQbGF5ZXJzLiBBdCBsZWFzdCB0d28gcGxheWVycyByZXF1aXJlZFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGdhbWVUeXBlLCAuLi5wbGF5ZXJzKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvcGVydHkge0dhbWVUeXBlfSBnYW1lVHlwZSAtIFJvY2sgUGFwZXIgU2Npc3NvcnMgT1IgUm9jayBQYXBlciBTY2lzc29ycyBTcG9jayBMaXphcmQgZ2FtZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nYW1lVHlwZSA9IGdhbWVUeXBlO1xuICAgICAgICBpZiAocGxheWVycy5sZW5ndGggPCAyKVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJOdW1iZXIgb2YgcGxheWVycyBtdXN0IGJlIDIgb3IgbW9yZVwiKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3BlcnR5IHtQbGF5ZXJbXX0gcGxheWVycyAtIExpc3Qgb2YgcGxheWVyc1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gW10uY29uY2F0KHBsYXllcnMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvcGVydHkge251bWJlcn0gcm91bmQgLSBSb3VuZHMgcGxheWVkLiBTdGFydGluZyBmcm9tIDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucm91bmQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvcGVydHkge29iamVjdH0gcG9zc2libGVBY3Rpb25zIC0gU2hvcnRjdXQgZm9yIGdhbWVUeXBlIHBvc3NpYmxlIGFjdGlvbnMuIEVhY2ggYWN0aW9uIGlzIGFjY2Vzc2VkIGJ5IGl0cyBuYW1lXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7QWN0aW9ufSBwb3NzaWJsZUFjdGlvbnMuPGI+YWN0aW9uTmFtZTwvYj4gLSBBY3Rpb24gYnkgbmFtZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb3NzaWJsZUFjdGlvbnMgPSB7fTtcbiAgICAgICAgZ2FtZVR5cGUucG9zc2libGVBY3Rpb25zLmZvckVhY2goYWN0aW9uID0+IHtcbiAgICAgICAgICAgIHRoaXMucG9zc2libGVBY3Rpb25zW2FjdGlvbi5uYW1lXSA9IGFjdGlvbjtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGxheXMgYSByb3VuZCB3aXRoIHBsYXllcnMgY2hvc2VuIHRoZWlyIGFjdGlvbnNcbiAgICAgKiBAcGFyYW0geyFSb3VuZH0gcm91bmQgLSBQbGF5ZXJzIHdpdGggdGhlaXIgY2hvaWNlIG9mIGFjdGlvbnNcbiAgICAgKiBAcmV0dXJucyB7P1BsYXllcn0gV2lubmluZyBQbGF5ZXIuIElmIG5vIHBsYXllciB3aW5zLCByZXR1cm5zIG51bGxcbiAgICAgKi9cbiAgICBwbGF5Um91bmQocm91bmQpIHtcbiAgICAgICAgdGhpcy5yb3VuZCsrO1xuICAgICAgICBsZXQgd2lubmVyID0gbnVsbDtcbiAgICAgICAgZm9yIChsZXQgcCBvZiB0aGlzLnBsYXllcnMpIHtcbiAgICAgICAgICAgIGxldCB7IHBsYXllckFjdGlvbiwgb3RoZXJzQWN0aW9ucyB9ID0gcm91bmQuZ2V0QWN0aW9ucyhwKTtcbiAgICAgICAgICAgIGlmIChwbGF5ZXJBY3Rpb24uZGVmZWF0c0FsbChvdGhlcnNBY3Rpb25zKSkge1xuICAgICAgICAgICAgICAgIHdpbm5lciA9IHA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdpbm5lcjtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdhbWU7XG4iLCIvKipcbiAqIERlZmluZXMgdGhlIGFjdGlvbnMgb2YgdGhlIHBsYXllcnMgaW4gYSBzaW5nbGUgUm91bmRcbiAqIEBleHRlbmRzIHtNYXB9XG4gKiBAc2VlIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXB9XG4gKi9cbmNsYXNzIFJvdW5kIGV4dGVuZHMgTWFwIHtcbiAgICAvKipcbiAgICAgKiBAdHlwZURlZiB7b2JqZWN0fSBnZXRQbGF5ZXJBY3Rpb25zSW5Sb3VuZFxuICAgICAqIEBwcm9wZXJ0eSB7QWN0aW9ufSBwbGF5ZXJBY3Rpb24gLSBBY3Rpb24gb2YgdGhlIGZvY3Vzc2VkIHBsYXllclxuICAgICAqIEBwcm9wZXJ0eSB7QWN0aW9uW119IG90aGVyc0FjdGlvbnMgLSBMaXN0IG9mIHRoZSBhY3Rpb25zIG9mIHJlc3Qgb2YgdGhlIHBsYXllcnNcbiAgICAgKi9cbiAgICBcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBhY3Rpb24gb2YgdGhlIHBsYXllciBhbmQgdGhlIGFjdGlvbnMgb2YgcmVzdCBvZiB0aGUgcGxheWVyc1xuICAgICAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXIgLSBGb2N1c2luZyBhY3Rpb24gb2YgdGhlIGluZGl2aWR1YWwgcGxheWVyXG4gICAgICogQHJldHVybnMge2dldFBsYXllckFjdGlvbnNJblJvdW5kfVxuICAgICAqL1xuICAgIGdldEFjdGlvbnMocGxheWVyKSB7XG4gICAgICAgIGxldCBwbGF5ZXJBY3Rpb24sIG90aGVyc0FjdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIHRoaXMpIHtcbiAgICAgICAgICAgIGlmKGtleSA9PT0gcGxheWVyKVxuICAgICAgICAgICAgICAgIHBsYXllckFjdGlvbiA9IHZhbHVlO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIG90aGVyc0FjdGlvbnMucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtwbGF5ZXJBY3Rpb24sIG90aGVyc0FjdGlvbnN9O1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUm91bmQ7IiwiLyoqXG4gKiBBY3Rpb24gaXMgb25lIG9mIHRoZSBhY3Rpb25zIHRoYXQgcGxheWVyIGNhbiBwaWNrIGluIGEgcm91bmRcbiAqL1xuY2xhc3MgIEFjdGlvbiB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHshc3RyaW5nfSBhY3Rpb25OYW1lIC0gTmFtZSBvZiB0aGUgYWN0aW9uXG4gICAgICogQHBhcmFtIHshc3RyaW5nW119IGRlZmVhdHMgLSBMaXN0IG9mIHRoZSBvdGhlciBhY3Rpb25zIHRoYXQgYXJlIGJlaW5nIGRlZmVhdGVkIGJ5IHRoaXMgYWN0aW9uXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYWN0aW9uTmFtZSwgZGVmZWF0cykge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd9IG5hbWUgLSBOYW1lIG9mIHRoZSBhY3Rpb25cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmFtZSA9IGFjdGlvbk5hbWU7XG4gICAgICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nW119IGRlZmVhdExpc3QgLSBOYW1lIGxpc3Qgb2YgdGhlIG90aGVyIGFjdGlvbnNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVmZWF0TGlzdCA9IFtdLmNvbmNhdChkZWZlYXRzKTtcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhpcyBhY3Rpb24gZGVmZWF0cyB0aGUgb3RoZXIgYWN0aW9uXG4gICAgICogQHBhcmFtIHtBY3Rpb259IG90aGVyQWN0aW9uIC0gc2luZ2xlIGFjdGlvblxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSByZXN1bHQgb2YgY2hlY2tcbiAgICAgKi9cbiAgICBkZWZlYXRzKG90aGVyQWN0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlZmVhdExpc3QuaW5jbHVkZXMob3RoZXJBY3Rpb24ubmFtZSk7XG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIENoZWNrcyB0aGlzIGFjdGlvbiBkZWZlYXRzIGFsbCBvdGhlciBhY3Rpb25zXG4gICAgICogQHBhcmFtIHsoQWN0aW9ufEFjdGlvbltdKX0gb3RoZXJBY3Rpb25zIC0gbGlzdCBvZiBhY3Rpb25zXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHJlc3VsdCBvZiBjaGVja1xuICAgICAqL1xuICAgIGRlZmVhdHNBbGwob3RoZXJBY3Rpb25zKSB7XG4gICAgICAgIG90aGVyQWN0aW9ucyA9IFtdLmNvbmNhdChvdGhlckFjdGlvbnMpO1xuICAgICAgICByZXR1cm4gb3RoZXJBY3Rpb25zLmZpbHRlcihvdGhlciA9PiB0aGlzLmRlZmVhdHMob3RoZXIpKS5sZW5ndGggPT09IG90aGVyQWN0aW9ucy5sZW5ndGg7XG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIENoZWNrcyB0aGlzIGFjdGlvbiBpcyBkZWZlYXRlZCBieSB0aGUgb3RoZXIgYWN0aW9uLiBPcHBzaXRlIGRpcmVjdGlvbiBvZiBkZWZlYXRzXG4gICAgICogQHBhcmFtIHtBY3Rpb259IG90aGVyQWN0aW9uIC0gc2luZ2xlIGFjdGlvblxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSByZXN1bHQgb2YgY2hlY2tcbiAgICAgKi9cbiAgICBpc0RlZmVhdGVkQnkob3RoZXJBY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIG90aGVyQWN0aW9uLmRlZmVhdHModGhpcyk7XG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIE5hbWUgb2YgdGhlIGFjdGlvblxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IG5hbWUgb2YgdGhlIGFjdGlvblxuICAgICAqL1xuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IEFjdGlvbjtcbiIsImltcG9ydCBBY3Rpb24gZnJvbSBcIi4vYWN0aW9uXCI7XG5cbi8qKlxuICogQHR5cGVEZWYge29iamVjdH0gR2FtZVR5cGVcbiAqIEBwcm9wZXJ0eSB7QWN0aW9uW119IHBvc3NpYmxlQWN0aW9ucyAtIExpc3Qgb2YgUG9zc2libGUgYWN0aW9ucyBvZiB0aGUgZ2FtZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IGZ1bGxOYW1lIC0gRnVsbCBOYW1lIG9mIHRoZSBnYW1lXG4gKi9cblxuLyoqXG4gKiBSb2NrIFBhcGVyIFNjaXNzb3JzIGdhbWVcbiAqIEB0eXBlIHtHYW1lVHlwZX1cbiAqL1xuZXhwb3J0IGNvbnN0IFJQUyA9IHtcbiAgICBwb3NzaWJsZUFjdGlvbnM6IFtcbiAgICAgICAgbmV3IEFjdGlvbihcInJvY2tcIiwgXCJzY2lzc29yc1wiKSxcbiAgICAgICAgbmV3IEFjdGlvbihcInBhcGVyXCIsIFwicm9ja1wiKSxcbiAgICAgICAgbmV3IEFjdGlvbihcInNjaXNzb3JzXCIsIFwicGFwZXJcIilcbiAgICBdLFxuICAgIGZ1bGxOYW1lOiBcIlJvY2sgUGFwZXIgU2Npc3NvcnNcIixcbiAgICBuYW1lOiBcIlJQU1wiXG59O1xuXG4vKipcbiAqIFJvY2sgUGFwZXIgU2Npc3NvcnMgU3BvY2sgTGl6YXJkXG4gKiBAdHlwZSB7R2FtZVR5cGV9XG4gKi9cbmV4cG9ydCBjb25zdCBSUFNTTCA9IHtcbiAgICBwb3NzaWJsZUFjdGlvbnM6IFtcbiAgICAgICAgbmV3IEFjdGlvbihcInJvY2tcIiwgW1wic2Npc3NvcnNcIiwgXCJsaXphcmRcIl0pLFxuICAgICAgICBuZXcgQWN0aW9uKFwicGFwZXJcIiwgW1wicm9ja1wiLCBcInNwb2NrXCJdKSxcbiAgICAgICAgbmV3IEFjdGlvbihcInNjaXNzb3JzXCIsIFtcInBhcGVyXCIsIFwibGl6YXJkXCJdKSxcbiAgICAgICAgbmV3IEFjdGlvbihcInNwb2NrXCIsIFtcInNjaXNzb3JzXCIsIFwicm9ja1wiXSksXG4gICAgICAgIG5ldyBBY3Rpb24oXCJsaXphcmRcIiwgW1wic3BvY2tcIiwgXCJwYXBlclwiXSlcbiAgICBdLFxuICAgIGZ1bGxOYW1lOiBcIlJvY2sgUGFwZXIgU2Npc3NvcnMgU3BvY2sgTGl6YXJkXCIsXG4gICAgbmFtZTogXCJSUFNTTFwiXG59O1xuXG5leHBvcnQgZGVmYXVsdCB7UlBTLCBSUFNTTH07XG5cbk9iamVjdC5mcmVlemUoUlBTKTtcbk9iamVjdC5mcmVlemUoUlBTU0wpO1xuIiwiLyoqXG4gKiBQbGF5ZXIgZm9yIFJQUyBvciBSUFNTTCBnYW1lXG4gKi9cbmNsYXNzIFBsYXllcntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyFzdHJpbmd9IG5hbWUgLSBOYW1lIG9mIHRoZSBwbGF5ZXJcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gTmFtZSBvZiB0aGUgcGxheWVyXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBuYW1lIG9mIHRoZSBwbGF5ZXJcbiAgICAgKiBAcmV0dW5zIHtzdHJpbmd9IG5hbWUgb2YgdGhlIHBsYXllclxuICAgICAqL1xuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUGxheWVyOyIsImltcG9ydCBHYW1lIGZyb20gXCIuL2dhbWUuanNcIjtcbmltcG9ydCBSb3VuZCBmcm9tIFwiLi9yb3VuZC5qc1wiO1xuaW1wb3J0IEdhbWVUeXBlIGZyb20gXCIuL2dhbWVUeXBlLmpzXCI7XG5pbXBvcnQgQWN0aW9uIGZyb20gXCIuL2FjdGlvbi5qc1wiO1xuaW1wb3J0IFBsYXllciBmcm9tIFwiLi9wbGF5ZXIuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgeyBHYW1lLCBSb3VuZCwgR2FtZVR5cGUsIEFjdGlvbiwgUGxheWVyIH07XG4iXSwic291cmNlUm9vdCI6IiJ9